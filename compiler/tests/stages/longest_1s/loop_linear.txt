def longest_1s(Seq: shared[list[int]], N: plaintext[int], Sym: shared[int]):
    max_length₁ = 0
    length₁ = 0
    for i in range(1, N₀):
        max_length₂ = Φ(max_length₁, max_length₄)
        length₂ = Φ(length₁, length₅)
        !1₂ = (Seq₀[i] == Sym₀)
        length₄ = 0
        length₃ = (length₂ + 1)
        length₅ = MUX(!1₂, length₃, length₄)
        !2₂ = (length₅ > max_length₂)
        max_length₃ = length₅
        max_length₄ = MUX(!2₂, max_length₃, max_length₂)
    return max_length₂
