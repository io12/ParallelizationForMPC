def max_sum_between_syms(Seq: shared[list[int]], N: plaintext[int], Sym: shared[int]):
    max_sum₁ = 0
    current_sum₁ = 0
    for i in range(0, N₀):
        max_sum₂ = Φ(max_sum₁, max_sum₄)
        current_sum₂ = Φ(current_sum₁, current_sum₅)
        !1₂ = (Seq₀[i] == Sym₀)
        !2₂ = not !1₂
        current_sum₄ = 0
        current_sum₃ = (current_sum₂ + Seq₀[i])
        current_sum₅ = MUX(!2₂, current_sum₃, current_sum₄)
        !3₂ = (current_sum₅ > max_sum₂)
        max_sum₃ = current_sum₅
        max_sum₄ = MUX(!3₂, max_sum₃, max_sum₂)
    return max_sum₂
